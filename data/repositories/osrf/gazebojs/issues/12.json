{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebojs.json"}, "html": {"href": "#!/osrf/gazebojs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{762c6281-de25-4619-9c70-213ccace6fe9}ts=default"}}, "type": "repository", "name": "gazebojs", "full_name": "osrf/gazebojs", "uuid": "{762c6281-de25-4619-9c70-213ccace6fe9}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebojs/issues/12/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebojs/issues/12.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebojs/issues/12/watch"}, "comments": {"href": "data/repositories/osrf/gazebojs/issues/12/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebojs/issues/12/exiting-gazebojs"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebojs/issues/12/vote"}}, "reporter": {"display_name": "Mohamd Ayman", "uuid": "{72e87935-5983-4f36-8505-0c88a6493930}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B72e87935-5983-4f36-8505-0c88a6493930%7D"}, "html": {"href": "https://bitbucket.org/%7B72e87935-5983-4f36-8505-0c88a6493930%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7/d5d765e0-f86b-4c0d-93ed-c67429f1f465/128"}}, "nickname": "Mohamd Ayman", "type": "user", "account_id": "557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7"}, "title": "exiting gazebojs", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I wasn't calling the unsubscribe function the right way, there is no use for this issue now, so if anyone would delete.\r\n\r\nwhenever i close gazebojs after subscribing to a topic i get this error msg\r\n\r\n```\r\n#!python\r\n\r\nnode: /usr/include/boost/smart_ptr/shared_ptr.hpp:653: typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = gazebo::transport::Connection; typename boost::detail::sp_member_access<T>::type = gazebo::transport::Connection*]: Assertion `px != 0' failed.\r\nAborted (core dumped)\r\n```\r\n\r\nto reproduce:\r\n-run gazebo\r\n-run node -> var gazebojs = require(\"gazebojs\") -> var gazebo = new gazebojs.Gazebo() -> gazebo.subscribe('gazebo.msgs.Model','~/model/info',console.log)\r\n-insert any model into gazebo if you want to see the log\r\n-close nodejs.", "markup": "markdown", "html": "<p>I wasn't calling the unsubscribe function the right way, there is no use for this issue now, so if anyone would delete.</p>\n<p>whenever i close gazebojs after subscribing to a topic i get this error msg</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">node</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">include</span><span class=\"o\">/</span><span class=\"n\">boost</span><span class=\"o\">/</span><span class=\"n\">smart_ptr</span><span class=\"o\">/</span><span class=\"n\">shared_ptr</span><span class=\"o\">.</span><span class=\"n\">hpp</span><span class=\"p\">:</span><span class=\"mi\">653</span><span class=\"p\">:</span> <span class=\"n\">typename</span> <span class=\"n\">boost</span><span class=\"p\">::</span><span class=\"n\">detail</span><span class=\"p\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nb\">type</span> <span class=\"n\">boost</span><span class=\"p\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"n\">operator</span><span class=\"o\">-&gt;</span><span class=\"p\">()</span> <span class=\"n\">const</span> <span class=\"p\">[</span><span class=\"k\">with</span> <span class=\"n\">T</span> <span class=\"o\">=</span> <span class=\"n\">gazebo</span><span class=\"p\">::</span><span class=\"n\">transport</span><span class=\"p\">::</span><span class=\"n\">Connection</span><span class=\"p\">;</span> <span class=\"n\">typename</span> <span class=\"n\">boost</span><span class=\"p\">::</span><span class=\"n\">detail</span><span class=\"p\">::</span><span class=\"n\">sp_member_access</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nb\">type</span> <span class=\"o\">=</span> <span class=\"n\">gazebo</span><span class=\"p\">::</span><span class=\"n\">transport</span><span class=\"p\">::</span><span class=\"n\">Connection</span><span class=\"o\">*</span><span class=\"p\">]:</span> <span class=\"n\">Assertion</span> <span class=\"err\">`</span><span class=\"n\">px</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"s1\">&#39; failed.</span>\n<span class=\"n\">Aborted</span> <span class=\"p\">(</span><span class=\"n\">core</span> <span class=\"n\">dumped</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>to reproduce:\n-run gazebo\n-run node -&gt; var gazebojs = require(\"gazebojs\") -&gt; var gazebo = new gazebojs.Gazebo() -&gt; gazebo.subscribe('gazebo.msgs.Model','~/model/info',console.log)\n-insert any model into gazebo if you want to see the log\n-close nodejs.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2016-05-20T06:15:20.854580+00:00", "milestone": null, "updated_on": "2016-05-20T06:30:29.302374+00:00", "type": "issue", "id": 12}