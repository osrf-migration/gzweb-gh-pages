{"links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/114/comments/48030525.json"}, "html": {"href": "#!/osrf/gzweb/pull-requests/114/_/diff#comment-48030525"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 114, "links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/114.json"}, "html": {"href": "#!/osrf/gzweb/pull-requests/114"}}, "title": "Test gzGui"}, "content": {"raw": "Can you give this patch a try?\n\n~~~\ndiff -r 9e37dafaff16 gz3d/build/gz3d.js\n--- a/gz3d/build/gz3d.js\tWed Oct 18 21:31:04 2017 +0800\n+++ b/gz3d/build/gz3d.js\tWed Oct 25 12:51:13 2017 -0700\n@@ -1109,8 +1109,8 @@\n \n   guiEvents.on('toggle_notifications', function ()\n       {\n-        this.showNotifications = !this.showNotifications;\n-        if(!this.showNotifications)\n+        that.showNotifications = !that.showNotifications;\n+        if(!that.showNotifications)\n         {\n           $('#toggle-notifications').buttonMarkup({icon: 'false'});\n         }\ndiff -r 9e37dafaff16 gz3d/src/gzgui.js\n--- a/gz3d/src/gzgui.js\tWed Oct 18 21:31:04 2017 +0800\n+++ b/gz3d/src/gzgui.js\tWed Oct 25 12:51:13 2017 -0700\n@@ -1090,8 +1090,8 @@\n \n   guiEvents.on('openTreeWhenSelected', function ()\n       {\n-        this.openTreeWhenSelected = !this.openTreeWhenSelected;\n-        if(!this.openTreeWhenSelected)\n+        that.openTreeWhenSelected = !that.openTreeWhenSelected;\n+        if(!that.openTreeWhenSelected)\n         {\n           $('#open-tree-when-selected').buttonMarkup({icon: 'false'});\n         }\n@@ -1104,8 +1104,8 @@\n \n   guiEvents.on('toggle_notifications', function ()\n       {\n-        this.showNotifications = !this.showNotifications;\n-        if(!this.showNotifications)\n+        that.showNotifications = !that.showNotifications;\n+        if(!that.showNotifications)\n         {\n           $('#toggle-notifications').buttonMarkup({icon: 'false'});\n         }\ndiff -r 9e37dafaff16 gz3d/test/gzgui_test.js\n--- a/gz3d/test/gzgui_test.js\tWed Oct 18 21:31:04 2017 +0800\n+++ b/gz3d/test/gzgui_test.js\tWed Oct 25 12:51:13 2017 -0700\n@@ -54,7 +54,7 @@\n \n           expect(gui.showNotifications).toEqual(false);\n           guiEvents.emit('toggle_notifications');\n-          expect(gui.showNotifications).toEqual(false);\n+          expect(gui.showNotifications).toEqual(true);\n \n           // TODO: test set_view_as after finishing model spawning test.\n~~~", "markup": "markdown", "html": "<p>Can you give this patch a try?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 9e37dafaff16 gz3d/build/gz3d.js</span>\n<span class=\"gd\">--- a/gz3d/build/gz3d.js    Wed Oct 18 21:31:04 2017 +0800</span>\n<span class=\"gi\">+++ b/gz3d/build/gz3d.js    Wed Oct 25 12:51:13 2017 -0700</span>\n<span class=\"gu\">@@ -1109,8 +1109,8 @@</span>\n\n   guiEvents.on(&#39;toggle_notifications&#39;, function ()\n       {\n<span class=\"gd\">-        this.showNotifications = !this.showNotifications;</span>\n<span class=\"gd\">-        if(!this.showNotifications)</span>\n<span class=\"gi\">+        that.showNotifications = !that.showNotifications;</span>\n<span class=\"gi\">+        if(!that.showNotifications)</span>\n         {\n           $(&#39;#toggle-notifications&#39;).buttonMarkup({icon: &#39;false&#39;});\n         }\n<span class=\"gh\">diff -r 9e37dafaff16 gz3d/src/gzgui.js</span>\n<span class=\"gd\">--- a/gz3d/src/gzgui.js Wed Oct 18 21:31:04 2017 +0800</span>\n<span class=\"gi\">+++ b/gz3d/src/gzgui.js Wed Oct 25 12:51:13 2017 -0700</span>\n<span class=\"gu\">@@ -1090,8 +1090,8 @@</span>\n\n   guiEvents.on(&#39;openTreeWhenSelected&#39;, function ()\n       {\n<span class=\"gd\">-        this.openTreeWhenSelected = !this.openTreeWhenSelected;</span>\n<span class=\"gd\">-        if(!this.openTreeWhenSelected)</span>\n<span class=\"gi\">+        that.openTreeWhenSelected = !that.openTreeWhenSelected;</span>\n<span class=\"gi\">+        if(!that.openTreeWhenSelected)</span>\n         {\n           $(&#39;#open-tree-when-selected&#39;).buttonMarkup({icon: &#39;false&#39;});\n         }\n<span class=\"gu\">@@ -1104,8 +1104,8 @@</span>\n\n   guiEvents.on(&#39;toggle_notifications&#39;, function ()\n       {\n<span class=\"gd\">-        this.showNotifications = !this.showNotifications;</span>\n<span class=\"gd\">-        if(!this.showNotifications)</span>\n<span class=\"gi\">+        that.showNotifications = !that.showNotifications;</span>\n<span class=\"gi\">+        if(!that.showNotifications)</span>\n         {\n           $(&#39;#toggle-notifications&#39;).buttonMarkup({icon: &#39;false&#39;});\n         }\n<span class=\"gh\">diff -r 9e37dafaff16 gz3d/test/gzgui_test.js</span>\n<span class=\"gd\">--- a/gz3d/test/gzgui_test.js   Wed Oct 18 21:31:04 2017 +0800</span>\n<span class=\"gi\">+++ b/gz3d/test/gzgui_test.js   Wed Oct 25 12:51:13 2017 -0700</span>\n<span class=\"gu\">@@ -54,7 +54,7 @@</span>\n\n           expect(gui.showNotifications).toEqual(false);\n           guiEvents.emit(&#39;toggle_notifications&#39;);\n<span class=\"gd\">-          expect(gui.showNotifications).toEqual(false);</span>\n<span class=\"gi\">+          expect(gui.showNotifications).toEqual(true);</span>\n\n           // TODO: test set_view_as after finishing model spawning test.\n</pre></div>", "type": "rendered"}, "created_on": "2017-10-25T19:52:52.766814+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-10-25T19:52:52.769789+00:00", "type": "pullrequest_comment", "id": 48030525}