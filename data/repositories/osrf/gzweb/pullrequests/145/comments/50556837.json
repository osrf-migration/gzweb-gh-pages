{"links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/145/comments/50556837.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gzweb/diff/osrf/gzweb:5a9b37c49d9f..76c810c61b51?path=gzbridge%2Fserver.js"}, "html": {"href": "#!/osrf/gzweb/pull-requests/145/_/diff#comment-50556837"}}, "parent": {"id": 50555207, "links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/145/comments/50555207.json"}, "html": {"href": "#!/osrf/gzweb/pull-requests/145/_/diff#comment-50555207"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 145, "links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/145.json"}, "html": {"href": "#!/osrf/gzweb/pull-requests/145"}}, "title": "Additions to pull request #140"}, "content": {"raw": "I think we wouldn't be able to assign it a new boolean value, such as on line 127, if it were `const`. Try this for example:\n\n~~~\n$ node\n> const isConnected = false;\nundefined\n> isConnected = true;\nTypeError: Assignment to constant variable.\n    at repl:1:13\n    at sigintHandlersWrap (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:96:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:21:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\n    at REPLServer.runBound [as eval] (domain.js:293:12)\n    at REPLServer.<anonymous> (repl.js:513:10)\n    at emitOne (events.js:101:20)\n    at REPLServer.emit (events.js:188:7)\n~~~", "markup": "markdown", "html": "<p>I think we wouldn't be able to assign it a new boolean value, such as on line 127, if it were <code>const</code>. Try this for example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">$</span> <span class=\"n\">node</span>\n<span class=\"o\">&gt;</span> <span class=\"k\">const</span> <span class=\"n\">isConnected</span> <span class=\"o\">=</span> <span class=\"nb\">false</span><span class=\"p\">;</span>\n<span class=\"n\">undefined</span>\n<span class=\"o\">&gt;</span> <span class=\"n\">isConnected</span> <span class=\"o\">=</span> <span class=\"nb\">true</span><span class=\"p\">;</span>\n<span class=\"nl\">TypeError</span><span class=\"p\">:</span> <span class=\"n\">Assignment</span> <span class=\"n\">to</span> <span class=\"n\">constant</span> <span class=\"n\">variable</span><span class=\"p\">.</span>\n    <span class=\"n\">at</span> <span class=\"nl\">repl</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"mi\">13</span>\n    <span class=\"n\">at</span> <span class=\"n\">sigintHandlersWrap</span> <span class=\"p\">(</span><span class=\"n\">vm</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"mi\">35</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">sigintHandlersWrap</span> <span class=\"p\">(</span><span class=\"n\">vm</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">96</span><span class=\"o\">:</span><span class=\"mi\">12</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">ContextifyScript</span><span class=\"p\">.</span><span class=\"n\">Script</span><span class=\"p\">.</span><span class=\"n\">runInThisContext</span> <span class=\"p\">(</span><span class=\"n\">vm</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">21</span><span class=\"o\">:</span><span class=\"mi\">12</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">REPLServer</span><span class=\"p\">.</span><span class=\"n\">defaultEval</span> <span class=\"p\">(</span><span class=\"n\">repl</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">313</span><span class=\"o\">:</span><span class=\"mi\">29</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">bound</span> <span class=\"p\">(</span><span class=\"n\">domain</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">280</span><span class=\"o\">:</span><span class=\"mi\">14</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">REPLServer</span><span class=\"p\">.</span><span class=\"n\">runBound</span> <span class=\"p\">[</span><span class=\"n\">as</span> <span class=\"n\">eval</span><span class=\"p\">]</span> <span class=\"p\">(</span><span class=\"n\">domain</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">293</span><span class=\"o\">:</span><span class=\"mi\">12</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">REPLServer</span><span class=\"p\">.</span><span class=\"o\">&lt;</span><span class=\"n\">anonymous</span><span class=\"o\">&gt;</span> <span class=\"p\">(</span><span class=\"n\">repl</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">513</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">emitOne</span> <span class=\"p\">(</span><span class=\"n\">events</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">101</span><span class=\"o\">:</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">REPLServer</span><span class=\"p\">.</span><span class=\"n\">emit</span> <span class=\"p\">(</span><span class=\"n\">events</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">188</span><span class=\"o\">:</span><span class=\"mi\">7</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-11-28T04:21:05.083949+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "outdated": true, "path": "gzbridge/server.js"}, "updated_on": "2017-11-28T04:21:05.086428+00:00", "type": "pullrequest_comment", "id": 50556837}