{"links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/107/comments/44109446.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gzweb/diff/mohamd_ayman/gzweb:1f1b2e8a2573..19ccf2a33bae?path=test%2Fsdf_test.js"}, "html": {"href": "#!/osrf/gzweb/pull-requests/107/_/diff#comment-44109446"}}, "parent": {"id": 44103021, "links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/107/comments/44103021.json"}, "html": {"href": "#!/osrf/gzweb/pull-requests/107/_/diff#comment-44103021"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/osrf/gzweb/pullrequests/107.json"}, "html": {"href": "#!/osrf/gzweb/pull-requests/107"}}, "title": "Test sdfParser"}, "content": {"raw": "I investigated this and  ```Obj.color``` doesn't have alpha \n```\nDirectionalLightcastShadow: truechildren: []length: 0__proto__: Array(0)color: Color {r: 0.8, g: 0.8, b: 0.8}b: 0.8g: 0.8r: 0.8__proto__: ObjectfrustumCulled: trueintensity: 0.9layers: Layers {mask: 1}mask: 1__proto__: Objectmatrix: Matrix4 {elements: Array(16)}elements: (16) [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1]__proto__: ObjectmatrixAutoUpdate: truematrixWorld: Matrix4 {elements: Array(16)}elements: (16) [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]__proto__: ObjectmatrixWorldNeedsUpdate: truename: \"sun\"parent: nullposition: Vector3 {x: 4.833682445228318, y: -0.9667364890456637, z: 18.700628401410974}quaternion: Quaternion {_x: 0, _y: 0, _z: 0, _w: 1, onChangeCallback: \u0192}receiveShadow: undefinedrenderOrder: 0rotation: Euler {_x: -0, _y: 0, _z: -0, _order: \"XYZ\", onChangeCallback: \u0192}scale: Vector3 {x: 1, y: 1, z: 1}shadow: DirectionalLightShadow {camera: OrthographicCamera, bias: 0.0001, radius: 1, mapSize: Vector2, map: null,\u00a0\u2026}target: Object3D {uuid: \"8238DA68-C441-4B24-9027-0F05E5C02289\", name: \"\", type: \"Object3D\", parent: null, children: Array(0),\u00a0\u2026}castShadow: falsechildren: []frustumCulled: truelayers: Layers {mask: 1}matrix: Matrix4 {elements: Array(16)}matrixAutoUpdate: truematrixWorld: Matrix4 {elements: Array(16)}matrixWorldNeedsUpdate: falsename: \"\"parent: nullposition: Vector3 {x: 0, y: 0, z: 0}quaternion: Quaternion {_x: 0, _y: 0, _z: 0, _w: 1, onChangeCallback: \u0192}receiveShadow: falserenderOrder: 0rotation: Euler {_x: 0, _y: 0, _z: 0, _order: \"XYZ\", onChangeCallback: \u0192}scale: Vector3 {x: 1, y: 1, z: 1}type: \"Object3D\"up: Vector3 {x: 0, y: 1, z: 0}userData: {}uuid: \"8238DA68-C441-4B24-9027-0F05E5C02289\"visible: trueeulerOrder: (...)id: 90modelViewMatrix: Matrix4 {elements: Array(16)}normalMatrix: Matrix3 {elements: Array(9)}useQuaternion: (...)__proto__: Objecttype: \"DirectionalLight\"up: Vector3 {x: 0, y: 1, z: 0}userData: {}uuid: \"9AC981ED-5E42-443A-A676-AAFD5013A9E4\"visible: trueeulerOrder: (...)id: 89modelViewMatrix: Matrix4 {elements: Array(16)}normalMatrix: Matrix3 {elements: Array(9)}useQuaternion: (...)__proto__: Light\n\n```", "markup": "markdown", "html": "<p>I investigated this and  <code>Obj.color</code> doesn't have alpha </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">DirectionalLightcastShadow</span><span class=\"o\">:</span> <span class=\"n\">truechildren</span><span class=\"o\">:</span> <span class=\"o\">[]</span><span class=\"n\">length</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"n\">__proto__</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"n\">color</span><span class=\"o\">:</span> <span class=\"n\">Color</span> <span class=\"o\">{</span><span class=\"n\">r</span><span class=\"o\">:</span> <span class=\"mf\">0.8</span><span class=\"o\">,</span> <span class=\"n\">g</span><span class=\"o\">:</span> <span class=\"mf\">0.8</span><span class=\"o\">,</span> <span class=\"n\">b</span><span class=\"o\">:</span> <span class=\"mf\">0.8</span><span class=\"o\">}</span><span class=\"n\">b</span><span class=\"o\">:</span> <span class=\"mf\">0.8</span><span class=\"n\">g</span><span class=\"o\">:</span> <span class=\"mf\">0.8</span><span class=\"n\">r</span><span class=\"o\">:</span> <span class=\"mf\">0.8</span><span class=\"n\">__proto__</span><span class=\"o\">:</span> <span class=\"n\">ObjectfrustumCulled</span><span class=\"o\">:</span> <span class=\"n\">trueintensity</span><span class=\"o\">:</span> <span class=\"mf\">0.9</span><span class=\"n\">layers</span><span class=\"o\">:</span> <span class=\"n\">Layers</span> <span class=\"o\">{</span><span class=\"n\">mask</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">}</span><span class=\"n\">mask</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"n\">__proto__</span><span class=\"o\">:</span> <span class=\"n\">Objectmatrix</span><span class=\"o\">:</span> <span class=\"n\">Matrix4</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)}</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"n\">__proto__</span><span class=\"o\">:</span> <span class=\"n\">ObjectmatrixAutoUpdate</span><span class=\"o\">:</span> <span class=\"n\">truematrixWorld</span><span class=\"o\">:</span> <span class=\"n\">Matrix4</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)}</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"n\">__proto__</span><span class=\"o\">:</span> <span class=\"n\">ObjectmatrixWorldNeedsUpdate</span><span class=\"o\">:</span> <span class=\"n\">truename</span><span class=\"o\">:</span> <span class=\"s2\">&quot;sun&quot;</span><span class=\"n\">parent</span><span class=\"o\">:</span> <span class=\"n\">nullposition</span><span class=\"o\">:</span> <span class=\"n\">Vector3</span> <span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"mf\">4.833682445228318</span><span class=\"o\">,</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"o\">-</span><span class=\"mf\">0.9667364890456637</span><span class=\"o\">,</span> <span class=\"n\">z</span><span class=\"o\">:</span> <span class=\"mf\">18.700628401410974</span><span class=\"o\">}</span><span class=\"n\">quaternion</span><span class=\"o\">:</span> <span class=\"n\">Quaternion</span> <span class=\"o\">{</span><span class=\"n\">_x</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_y</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_z</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_w</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">onChangeCallback</span><span class=\"o\">:</span> <span class=\"err\">\u0192</span><span class=\"o\">}</span><span class=\"n\">receiveShadow</span><span class=\"o\">:</span> <span class=\"n\">undefinedrenderOrder</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"n\">rotation</span><span class=\"o\">:</span> <span class=\"n\">Euler</span> <span class=\"o\">{</span><span class=\"n\">_x</span><span class=\"o\">:</span> <span class=\"o\">-</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_y</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_z</span><span class=\"o\">:</span> <span class=\"o\">-</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_order</span><span class=\"o\">:</span> <span class=\"s2\">&quot;XYZ&quot;</span><span class=\"o\">,</span> <span class=\"n\">onChangeCallback</span><span class=\"o\">:</span> <span class=\"err\">\u0192</span><span class=\"o\">}</span><span class=\"n\">scale</span><span class=\"o\">:</span> <span class=\"n\">Vector3</span> <span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">z</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">}</span><span class=\"n\">shadow</span><span class=\"o\">:</span> <span class=\"n\">DirectionalLightShadow</span> <span class=\"o\">{</span><span class=\"n\">camera</span><span class=\"o\">:</span> <span class=\"n\">OrthographicCamera</span><span class=\"o\">,</span> <span class=\"n\">bias</span><span class=\"o\">:</span> <span class=\"mf\">0.0001</span><span class=\"o\">,</span> <span class=\"n\">radius</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">mapSize</span><span class=\"o\">:</span> <span class=\"n\">Vector2</span><span class=\"o\">,</span> <span class=\"n\">map</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"o\">,</span><span class=\"err\">\u00a0\u2026</span><span class=\"o\">}</span><span class=\"n\">target</span><span class=\"o\">:</span> <span class=\"n\">Object3D</span> <span class=\"o\">{</span><span class=\"n\">uuid</span><span class=\"o\">:</span> <span class=\"s2\">&quot;8238DA68-C441-4B24-9027-0F05E5C02289&quot;</span><span class=\"o\">,</span> <span class=\"n\">name</span><span class=\"o\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"o\">,</span> <span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Object3D&quot;</span><span class=\"o\">,</span> <span class=\"n\">parent</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"o\">,</span> <span class=\"n\">children</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">),</span><span class=\"err\">\u00a0\u2026</span><span class=\"o\">}</span><span class=\"n\">castShadow</span><span class=\"o\">:</span> <span class=\"n\">falsechildren</span><span class=\"o\">:</span> <span class=\"o\">[]</span><span class=\"n\">frustumCulled</span><span class=\"o\">:</span> <span class=\"n\">truelayers</span><span class=\"o\">:</span> <span class=\"n\">Layers</span> <span class=\"o\">{</span><span class=\"n\">mask</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">}</span><span class=\"n\">matrix</span><span class=\"o\">:</span> <span class=\"n\">Matrix4</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)}</span><span class=\"n\">matrixAutoUpdate</span><span class=\"o\">:</span> <span class=\"n\">truematrixWorld</span><span class=\"o\">:</span> <span class=\"n\">Matrix4</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)}</span><span class=\"n\">matrixWorldNeedsUpdate</span><span class=\"o\">:</span> <span class=\"n\">falsename</span><span class=\"o\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"n\">parent</span><span class=\"o\">:</span> <span class=\"n\">nullposition</span><span class=\"o\">:</span> <span class=\"n\">Vector3</span> <span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">z</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">}</span><span class=\"n\">quaternion</span><span class=\"o\">:</span> <span class=\"n\">Quaternion</span> <span class=\"o\">{</span><span class=\"n\">_x</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_y</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_z</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_w</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">onChangeCallback</span><span class=\"o\">:</span> <span class=\"err\">\u0192</span><span class=\"o\">}</span><span class=\"n\">receiveShadow</span><span class=\"o\">:</span> <span class=\"n\">falserenderOrder</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"n\">rotation</span><span class=\"o\">:</span> <span class=\"n\">Euler</span> <span class=\"o\">{</span><span class=\"n\">_x</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_y</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_z</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">_order</span><span class=\"o\">:</span> <span class=\"s2\">&quot;XYZ&quot;</span><span class=\"o\">,</span> <span class=\"n\">onChangeCallback</span><span class=\"o\">:</span> <span class=\"err\">\u0192</span><span class=\"o\">}</span><span class=\"n\">scale</span><span class=\"o\">:</span> <span class=\"n\">Vector3</span> <span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">z</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">}</span><span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Object3D&quot;</span><span class=\"n\">up</span><span class=\"o\">:</span> <span class=\"n\">Vector3</span> <span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">z</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">}</span><span class=\"n\">userData</span><span class=\"o\">:</span> <span class=\"o\">{}</span><span class=\"n\">uuid</span><span class=\"o\">:</span> <span class=\"s2\">&quot;8238DA68-C441-4B24-9027-0F05E5C02289&quot;</span><span class=\"n\">visible</span><span class=\"o\">:</span> <span class=\"n\">trueeulerOrder</span><span class=\"o\">:</span> <span class=\"o\">(...)</span><span class=\"n\">id</span><span class=\"o\">:</span> <span class=\"mi\">90</span><span class=\"n\">modelViewMatrix</span><span class=\"o\">:</span> <span class=\"n\">Matrix4</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)}</span><span class=\"n\">normalMatrix</span><span class=\"o\">:</span> <span class=\"n\">Matrix3</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">9</span><span class=\"o\">)}</span><span class=\"n\">useQuaternion</span><span class=\"o\">:</span> <span class=\"o\">(...)</span><span class=\"n\">__proto__</span><span class=\"o\">:</span> <span class=\"n\">Objecttype</span><span class=\"o\">:</span> <span class=\"s2\">&quot;DirectionalLight&quot;</span><span class=\"n\">up</span><span class=\"o\">:</span> <span class=\"n\">Vector3</span> <span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">z</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"o\">}</span><span class=\"n\">userData</span><span class=\"o\">:</span> <span class=\"o\">{}</span><span class=\"n\">uuid</span><span class=\"o\">:</span> <span class=\"s2\">&quot;9AC981ED-5E42-443A-A676-AAFD5013A9E4&quot;</span><span class=\"n\">visible</span><span class=\"o\">:</span> <span class=\"n\">trueeulerOrder</span><span class=\"o\">:</span> <span class=\"o\">(...)</span><span class=\"n\">id</span><span class=\"o\">:</span> <span class=\"mi\">89</span><span class=\"n\">modelViewMatrix</span><span class=\"o\">:</span> <span class=\"n\">Matrix4</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">16</span><span class=\"o\">)}</span><span class=\"n\">normalMatrix</span><span class=\"o\">:</span> <span class=\"n\">Matrix3</span> <span class=\"o\">{</span><span class=\"n\">elements</span><span class=\"o\">:</span> <span class=\"n\">Array</span><span class=\"o\">(</span><span class=\"mi\">9</span><span class=\"o\">)}</span><span class=\"n\">useQuaternion</span><span class=\"o\">:</span> <span class=\"o\">(...)</span><span class=\"n\">__proto__</span><span class=\"o\">:</span> <span class=\"n\">Light</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-09-01T19:06:12.718466+00:00", "user": {"display_name": "Mohamd Ayman", "uuid": "{72e87935-5983-4f36-8505-0c88a6493930}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B72e87935-5983-4f36-8505-0c88a6493930%7D"}, "html": {"href": "https://bitbucket.org/%7B72e87935-5983-4f36-8505-0c88a6493930%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7/d5d765e0-f86b-4c0d-93ed-c67429f1f465/128"}}, "nickname": "Mohamd Ayman", "type": "user", "account_id": "557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7"}, "inline": {"to": null, "from": null, "outdated": true, "path": "test/sdf_test.js"}, "updated_on": "2017-09-01T19:06:12.899883+00:00", "type": "pullrequest_comment", "id": 44109446}