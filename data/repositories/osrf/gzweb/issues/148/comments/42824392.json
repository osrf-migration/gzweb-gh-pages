{"links": {"self": {"href": "data/repositories/osrf/gzweb/issues/148/comments/42824392.json"}, "html": {"href": "#!/osrf/gzweb/issues/148#comment-42824392"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gzweb/issues/148.json"}}, "type": "issue", "id": 148, "repository": {"links": {"self": {"href": "data/repositories/osrf/gzweb.json"}, "html": {"href": "#!/osrf/gzweb"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e2fc3f2-dc25-453b-9792-943c743d9b40}ts=1609263"}}, "type": "repository", "name": "gzweb", "full_name": "osrf/gzweb", "uuid": "{3e2fc3f2-dc25-453b-9792-943c743d9b40}"}, "title": "Errors when running deploy.sh"}, "content": {"raw": "Thanks for the response Ian. I am running the script below now using the commands you recommended.\n```\n#!/bin/bash\nset -e\n\ncurl -ssL http://get.gazebosim.org | sh\n\ncurl -sL https://deb.nodesource.com/setup | sudo bash -\napt-get install libjansson-dev nodejs npm libboost-dev imagemagick libtinyxml-dev mercurial cmake build-essential\ncd ~; hg clone #!/osrf/gzweb\ncd ~/gzweb\nhg up default\nsource /usr/share/gazebo/setup.sh\n\ncurl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh | bash\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\"\n[ -s \"$NVM_DIR/bash_completion\" ] && \\. \"$NVM_DIR/bash_completion\"\n\nnvm run deploy\nnvm run update\n```\n\nIt completes everything besides the deploy command correctly. It throws the following error:\n```\nroot@6f3052797705:~# nvm run deploy\nNo .nvmrc file found\nRunning node system (npm v5.5.1)\nmodule.js:538\n    throw err;\n    ^\n\nError: Cannot find module '/root/deploy'\n    at Function.Module._resolveFilename (module.js:536:15)\n    at Function.Module._load (module.js:466:25)\n    at Function.Module.runMain (module.js:676:10)\n    at startup (bootstrap_node.js:187:16)\n    at bootstrap_node.js:608:3\n```\n\nFails for update as well complaining about not being able to find the update file.", "markup": "markdown", "html": "<p>Thanks for the response Ian. I am running the script below now using the commands you recommended.</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"ch\">#!/bin/bash</span>\n<span class=\"nb\">set</span> -e\n\ncurl -ssL http://get.gazebosim.org <span class=\"p\">|</span> sh\n\ncurl -sL https://deb.nodesource.com/setup <span class=\"p\">|</span> sudo bash -\napt-get install libjansson-dev nodejs npm libboost-dev imagemagick libtinyxml-dev mercurial cmake build-essential\n<span class=\"nb\">cd</span> ~<span class=\"p\">;</span> hg clone #!/osrf/gzweb\n<span class=\"nb\">cd</span> ~/gzweb\nhg up default\n<span class=\"nb\">source</span> /usr/share/gazebo/setup.sh\n\ncurl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh <span class=\"p\">|</span> bash\n<span class=\"nb\">export</span> <span class=\"nv\">NVM_DIR</span><span class=\"o\">=</span><span class=\"s2\">&quot;</span><span class=\"nv\">$HOME</span><span class=\"s2\">/.nvm&quot;</span>\n<span class=\"o\">[</span> -s <span class=\"s2\">&quot;</span><span class=\"nv\">$NVM_DIR</span><span class=\"s2\">/nvm.sh&quot;</span> <span class=\"o\">]</span> <span class=\"o\">&amp;&amp;</span> <span class=\"se\">\\.</span> <span class=\"s2\">&quot;</span><span class=\"nv\">$NVM_DIR</span><span class=\"s2\">/nvm.sh&quot;</span>\n<span class=\"o\">[</span> -s <span class=\"s2\">&quot;</span><span class=\"nv\">$NVM_DIR</span><span class=\"s2\">/bash_completion&quot;</span> <span class=\"o\">]</span> <span class=\"o\">&amp;&amp;</span> <span class=\"se\">\\.</span> <span class=\"s2\">&quot;</span><span class=\"nv\">$NVM_DIR</span><span class=\"s2\">/bash_completion&quot;</span>\n\nnvm run deploy\nnvm run update\n</pre></div>\n\n\n<p>It completes everything besides the deploy command correctly. It throws the following error:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">root</span><span class=\"mf\">@6f</span><span class=\"mi\">3052797705</span><span class=\"o\">:~</span><span class=\"err\">#</span> <span class=\"n\">nvm</span> <span class=\"n\">run</span> <span class=\"n\">deploy</span>\n<span class=\"n\">No</span> <span class=\"p\">.</span><span class=\"n\">nvmrc</span> <span class=\"n\">file</span> <span class=\"n\">found</span>\n<span class=\"n\">Running</span> <span class=\"n\">node</span> <span class=\"n\">system</span> <span class=\"p\">(</span><span class=\"n\">npm</span> <span class=\"n\">v5</span><span class=\"mf\">.5.1</span><span class=\"p\">)</span>\n<span class=\"n\">module</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">538</span>\n    <span class=\"n\">throw</span> <span class=\"n\">err</span><span class=\"p\">;</span>\n    <span class=\"o\">^</span>\n\n<span class=\"nl\">Error</span><span class=\"p\">:</span> <span class=\"n\">Cannot</span> <span class=\"n\">find</span> <span class=\"n\">module</span> <span class=\"err\">&#39;</span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"n\">deploy</span><span class=\"err\">&#39;</span>\n    <span class=\"n\">at</span> <span class=\"n\">Function</span><span class=\"p\">.</span><span class=\"n\">Module</span><span class=\"p\">.</span><span class=\"n\">_resolveFilename</span> <span class=\"p\">(</span><span class=\"n\">module</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">536</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">Function</span><span class=\"p\">.</span><span class=\"n\">Module</span><span class=\"p\">.</span><span class=\"n\">_load</span> <span class=\"p\">(</span><span class=\"n\">module</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">466</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">Function</span><span class=\"p\">.</span><span class=\"n\">Module</span><span class=\"p\">.</span><span class=\"n\">runMain</span> <span class=\"p\">(</span><span class=\"n\">module</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">676</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">startup</span> <span class=\"p\">(</span><span class=\"n\">bootstrap_node</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">187</span><span class=\"o\">:</span><span class=\"mi\">16</span><span class=\"p\">)</span>\n    <span class=\"n\">at</span> <span class=\"n\">bootstrap_node</span><span class=\"p\">.</span><span class=\"nl\">js</span><span class=\"p\">:</span><span class=\"mi\">608</span><span class=\"o\">:</span><span class=\"mi\">3</span>\n</pre></div>\n\n\n<p>Fails for update as well complaining about not being able to find the update file.</p>", "type": "rendered"}, "created_on": "2018-01-23T22:56:14.923917+00:00", "user": {"display_name": "Anthony Navarro", "uuid": "{6e6e7057-b627-4fd7-95c6-8396c13cd3df}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6e6e7057-b627-4fd7-95c6-8396c13cd3df%7D"}, "html": {"href": "https://bitbucket.org/%7B6e6e7057-b627-4fd7-95c6-8396c13cd3df%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/initials/AN-6.png"}}, "nickname": "anavarro42", "type": "user", "account_id": "557058:69ace313-aacd-4944-acdd-d64dfec8fcc6"}, "updated_on": null, "type": "issue_comment", "id": 42824392}