{"links": {"self": {"href": "data/repositories/osrf/gzweb/issues/82/comments/28679435.json"}, "html": {"href": "#!/osrf/gzweb/issues/82#comment-28679435"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gzweb/issues/82.json"}}, "type": "issue", "id": 82, "repository": {"links": {"self": {"href": "data/repositories/osrf/gzweb.json"}, "html": {"href": "#!/osrf/gzweb"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e2fc3f2-dc25-453b-9792-943c743d9b40}ts=1609263"}}, "type": "repository", "name": "gzweb", "full_name": "osrf/gzweb", "uuid": "{3e2fc3f2-dc25-453b-9792-943c743d9b40}"}, "title": "Models don't appear in browse."}, "content": {"raw": "after some debugging, i guess it has sth to do with this part from ws_server.js, since things does appear if gzserver is not up thought.\n\n```\n#!c++\n\n    if (!gzconnection.getIsGzServerConnected())\n    {\n      // create error status and send it\n      var statusMessage = '{\"op\":\"publish\",\"topic\":\"~/status\",\"msg\":{\"status\":\"error\"}}';\n      connection.sendUTF(statusMessage);\n      // send material scripts message\n      connection.sendUTF(materialScriptsMessage);\n      return;\n    }\n```\nnot so sure about this analysis.", "markup": "markdown", "html": "<p>after some debugging, i guess it has sth to do with this part from ws_server.js, since things does appear if gzserver is not up thought.</p>\n<div class=\"codehilite language-c++\"><pre><span></span>    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">gzconnection</span><span class=\"p\">.</span><span class=\"n\">getIsGzServerConnected</span><span class=\"p\">())</span>\n    <span class=\"p\">{</span>\n      <span class=\"c1\">// create error status and send it</span>\n      <span class=\"n\">var</span> <span class=\"n\">statusMessage</span> <span class=\"o\">=</span> <span class=\"err\">&#39;</span><span class=\"p\">{</span><span class=\"s\">&quot;op&quot;</span><span class=\"o\">:</span><span class=\"s\">&quot;publish&quot;</span><span class=\"p\">,</span><span class=\"s\">&quot;topic&quot;</span><span class=\"o\">:</span><span class=\"s\">&quot;~/status&quot;</span><span class=\"p\">,</span><span class=\"s\">&quot;msg&quot;</span><span class=\"o\">:</span><span class=\"p\">{</span><span class=\"s\">&quot;status&quot;</span><span class=\"o\">:</span><span class=\"s\">&quot;error&quot;</span><span class=\"p\">}}</span><span class=\"err\">&#39;</span><span class=\"p\">;</span>\n      <span class=\"n\">connection</span><span class=\"p\">.</span><span class=\"n\">sendUTF</span><span class=\"p\">(</span><span class=\"n\">statusMessage</span><span class=\"p\">);</span>\n      <span class=\"c1\">// send material scripts message</span>\n      <span class=\"n\">connection</span><span class=\"p\">.</span><span class=\"n\">sendUTF</span><span class=\"p\">(</span><span class=\"n\">materialScriptsMessage</span><span class=\"p\">);</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n</pre></div>\n\n\n<p>not so sure about this analysis.</p>", "type": "rendered"}, "created_on": "2016-06-21T16:36:35.214340+00:00", "user": {"display_name": "Mohamd Ayman", "uuid": "{72e87935-5983-4f36-8505-0c88a6493930}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B72e87935-5983-4f36-8505-0c88a6493930%7D"}, "html": {"href": "https://bitbucket.org/%7B72e87935-5983-4f36-8505-0c88a6493930%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7/d5d765e0-f86b-4c0d-93ed-c67429f1f465/128"}}, "nickname": "Mohamd Ayman", "type": "user", "account_id": "557058:53a1879d-b572-46c9-97d3-8fa52b2ff8a7"}, "updated_on": null, "type": "issue_comment", "id": 28679435}